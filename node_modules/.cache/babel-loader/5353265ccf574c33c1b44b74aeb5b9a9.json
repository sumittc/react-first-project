{"ast":null,"code":"var _jsxFileName = \"E:\\\\01 Developement\\\\ReactJs\\\\class-base-app\\\\src\\\\components\\\\News.js\";\nimport React, { Component } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport \"./globalClass\";\nimport Spinner from \"./Spinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class News extends Component {\n  constructor() {\n    super();\n\n    this.handleOnNext = () => {\n      if (this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize)) {\n        return;\n      }\n\n      let LParsedata = this.fetchArtialFromServer();\n      let LArticals = LParsedata.articles;\n      LArticals = this.validateArray(LArticals);\n\n      if (LArticals.length <= 0) {\n        return;\n      }\n\n      this.setState({\n        page: this.state.page + 1,\n        articles: LArticals\n      });\n    };\n\n    this.handleOnPrevious = () => {\n      let LParsedata = this.fetchArtialFromServer();\n      let LArticals = LParsedata.articles;\n      LArticals = this.validateArray(LArticals);\n      this.setState({\n        page: this.state.page - 1,\n        articles: LArticals\n      });\n    };\n\n    console.log(\"I am constructor from News\");\n    this.state = {\n      articles: [],\n      page: 1,\n      totalResults: 0,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    let LParsedata = this.fetchArtialFromServer();\n    let LArticals = LParsedata.articles;\n    LArticals = this.validateArray(LArticals);\n    this.setState({\n      articles: LArticals,\n      totalResults: LParsedata.totalResults\n    });\n  }\n\n  validateArray(p_arrJson) {\n    let LResultArray = [];\n\n    for (let itemObject of p_arrJson) {\n      if (itemObject.title && itemObject.description && itemObject.urlToImage && itemObject.url) {\n        LResultArray.push(itemObject);\n      }\n    }\n\n    return LResultArray;\n  }\n\n  async fetchArtialFromServer() {\n    let LUrl = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=3e9e7838c5544ecf80621f19694f5022\n    &page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n    this.setState({\n      loading: true\n    });\n    let LData = await fetch(LUrl);\n    let LParsedata = await LData.json();\n    this.setState({\n      loading: false\n    });\n    return LParsedata;\n  }\n\n  render() {\n    console.log(\"rendered\");\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"News Monkey - Top Headline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: this.state.articles.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(NewsItem, {\n              title: item.title ? item.title.slice(0, 40) : \"\",\n              description: item.description ? item.description.slice(0, 88) : \"\",\n              imageUrl: item.urlToImage ? item.urlToImage : \"\",\n              newsUrl: item.url ? item.url : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)\n          }, item.url, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: this.state.page <= 1,\n          className: \"btn btn-dark\",\n          onClick: this.handleOnPrevious,\n          children: \"\\u2190 Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: this.state.articles.length <= 0,\n          className: \"btn btn-dark\",\n          onClick: this.handleOnNext,\n          children: \"Next \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default News;","map":{"version":3,"names":["React","Component","NewsItem","Spinner","News","constructor","handleOnNext","state","page","Math","ceil","totalResults","props","pageSize","LParsedata","fetchArtialFromServer","LArticals","articles","validateArray","length","setState","handleOnPrevious","console","log","loading","componentDidMount","p_arrJson","LResultArray","itemObject","title","description","urlToImage","url","push","LUrl","LData","fetch","json","render","map","item","slice"],"sources":["E:/01 Developement/ReactJs/class-base-app/src/components/News.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport NewsItem from \"./NewsItem\";\r\nimport \"./globalClass\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nexport class News extends Component {\r\n  constructor() {\r\n    super();\r\n    console.log(\"I am constructor from News\");\r\n    this.state = {\r\n      articles: [],\r\n      page: 1,\r\n      totalResults: 0,\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n   componentDidMount() {\r\n\r\n    let LParsedata = this.fetchArtialFromServer();\r\n    let LArticals = LParsedata.articles;\r\n    LArticals = this.validateArray(LArticals);\r\n\r\n    this.setState({\r\n      articles: LArticals,\r\n      totalResults: LParsedata.totalResults,\r\n    });\r\n  }\r\n  handleOnNext = () => {\r\n    if (\r\n      this.state.page + 1 >\r\n      Math.ceil(this.state.totalResults / this.props.pageSize)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    let LParsedata = this.fetchArtialFromServer();\r\n    let LArticals = LParsedata.articles;\r\n    LArticals = this.validateArray(LArticals);\r\n\r\n    if (LArticals.length <= 0) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      page: this.state.page + 1,\r\n      articles: LArticals,\r\n    });\r\n  };\r\n\r\n  handleOnPrevious = () => {\r\n\r\n    let LParsedata = this.fetchArtialFromServer();\r\n    let LArticals = LParsedata.articles;\r\n    LArticals = this.validateArray(LArticals);\r\n\r\n    this.setState({\r\n      page: this.state.page - 1,\r\n      articles: LArticals,\r\n    });\r\n  };\r\n\r\n  validateArray(p_arrJson) {\r\n    \r\n    let LResultArray = [];\r\n    for (let itemObject of p_arrJson) {\r\n      if (\r\n        itemObject.title &&\r\n        itemObject.description &&\r\n        itemObject.urlToImage &&\r\n        itemObject.url\r\n      ) {\r\n        LResultArray.push(itemObject);\r\n      }\r\n    }\r\n    return LResultArray;\r\n  }\r\n\r\n  async fetchArtialFromServer() {\r\n\r\n    let LUrl = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=3e9e7838c5544ecf80621f19694f5022\r\n    &page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\r\n    this.setState({ loading: true });\r\n    let LData = await fetch(LUrl);\r\n    let LParsedata = await LData.json();\r\n    this.setState({ loading: false });\r\n\r\n    return LParsedata;\r\n  }\r\n\r\n  render() {\r\n    console.log(\"rendered\");\r\n    return (\r\n      <div className=\"container my-3\">\r\n        <h1 className=\"text-center\">News Monkey - Top Headline</h1>\r\n        {this.state.loading && <Spinner />}\r\n        <div className=\"row\">\r\n          {this.state.articles.map((item) => {\r\n            return (\r\n              <div className=\"col-md-4\" key={item.url}>\r\n                <NewsItem\r\n                  title={item.title ? item.title.slice(0, 40) : \"\"}\r\n                  description={\r\n                    item.description ? item.description.slice(0, 88) : \"\"\r\n                  }\r\n                  imageUrl={item.urlToImage ? item.urlToImage : \"\"}\r\n                  newsUrl={item.url ? item.url : \"\"}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"container d-flex justify-content-between\">\r\n          <button\r\n            type=\"button\"\r\n            disabled={this.state.page <= 1}\r\n            className=\"btn btn-dark\"\r\n            onClick={this.handleOnPrevious}\r\n          >\r\n            &larr; Previous\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            disabled={this.state.articles.length <= 0}\r\n            className=\"btn btn-dark\"\r\n            onClick={this.handleOnNext}\r\n          >\r\n            Next &rarr;\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default News;\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,eAAP;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,OAAO,MAAMC,IAAN,SAAmBH,SAAnB,CAA6B;EAClCI,WAAW,GAAG;IACZ;;IADY,KAsBdC,YAtBc,GAsBC,MAAM;MACnB,IACE,KAAKC,KAAL,CAAWC,IAAX,GAAkB,CAAlB,GACAC,IAAI,CAACC,IAAL,CAAU,KAAKH,KAAL,CAAWI,YAAX,GAA0B,KAAKC,KAAL,CAAWC,QAA/C,CAFF,EAGE;QACA;MACD;;MAED,IAAIC,UAAU,GAAG,KAAKC,qBAAL,EAAjB;MACA,IAAIC,SAAS,GAAGF,UAAU,CAACG,QAA3B;MACAD,SAAS,GAAG,KAAKE,aAAL,CAAmBF,SAAnB,CAAZ;;MAEA,IAAIA,SAAS,CAACG,MAAV,IAAoB,CAAxB,EAA2B;QACzB;MACD;;MAED,KAAKC,QAAL,CAAc;QACZZ,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAAX,GAAkB,CADZ;QAEZS,QAAQ,EAAED;MAFE,CAAd;IAID,CA1Ca;;IAAA,KA4CdK,gBA5Cc,GA4CK,MAAM;MAEvB,IAAIP,UAAU,GAAG,KAAKC,qBAAL,EAAjB;MACA,IAAIC,SAAS,GAAGF,UAAU,CAACG,QAA3B;MACAD,SAAS,GAAG,KAAKE,aAAL,CAAmBF,SAAnB,CAAZ;MAEA,KAAKI,QAAL,CAAc;QACZZ,IAAI,EAAE,KAAKD,KAAL,CAAWC,IAAX,GAAkB,CADZ;QAEZS,QAAQ,EAAED;MAFE,CAAd;IAID,CAtDa;;IAEZM,OAAO,CAACC,GAAR,CAAY,4BAAZ;IACA,KAAKhB,KAAL,GAAa;MACXU,QAAQ,EAAE,EADC;MAEXT,IAAI,EAAE,CAFK;MAGXG,YAAY,EAAE,CAHH;MAIXa,OAAO,EAAE;IAJE,CAAb;EAMD;;EAEAC,iBAAiB,GAAG;IAEnB,IAAIX,UAAU,GAAG,KAAKC,qBAAL,EAAjB;IACA,IAAIC,SAAS,GAAGF,UAAU,CAACG,QAA3B;IACAD,SAAS,GAAG,KAAKE,aAAL,CAAmBF,SAAnB,CAAZ;IAEA,KAAKI,QAAL,CAAc;MACZH,QAAQ,EAAED,SADE;MAEZL,YAAY,EAAEG,UAAU,CAACH;IAFb,CAAd;EAID;;EAmCDO,aAAa,CAACQ,SAAD,EAAY;IAEvB,IAAIC,YAAY,GAAG,EAAnB;;IACA,KAAK,IAAIC,UAAT,IAAuBF,SAAvB,EAAkC;MAChC,IACEE,UAAU,CAACC,KAAX,IACAD,UAAU,CAACE,WADX,IAEAF,UAAU,CAACG,UAFX,IAGAH,UAAU,CAACI,GAJb,EAKE;QACAL,YAAY,CAACM,IAAb,CAAkBL,UAAlB;MACD;IACF;;IACD,OAAOD,YAAP;EACD;;EAE0B,MAArBZ,qBAAqB,GAAG;IAE5B,IAAImB,IAAI,GAAI;AAChB,YAAY,KAAK3B,KAAL,CAAWC,IAAX,GAAkB,CAAE,aAAY,KAAKI,KAAL,CAAWC,QAAS,EAD5D;IAEA,KAAKO,QAAL,CAAc;MAAEI,OAAO,EAAE;IAAX,CAAd;IACA,IAAIW,KAAK,GAAG,MAAMC,KAAK,CAACF,IAAD,CAAvB;IACA,IAAIpB,UAAU,GAAG,MAAMqB,KAAK,CAACE,IAAN,EAAvB;IACA,KAAKjB,QAAL,CAAc;MAAEI,OAAO,EAAE;IAAX,CAAd;IAEA,OAAOV,UAAP;EACD;;EAEDwB,MAAM,GAAG;IACPhB,OAAO,CAACC,GAAR,CAAY,UAAZ;IACA,oBACE;MAAK,SAAS,EAAC,gBAAf;MAAA,wBACE;QAAI,SAAS,EAAC,aAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,EAEG,KAAKhB,KAAL,CAAWiB,OAAX,iBAAsB,QAAC,OAAD;QAAA;QAAA;QAAA;MAAA,QAFzB,eAGE;QAAK,SAAS,EAAC,KAAf;QAAA,UACG,KAAKjB,KAAL,CAAWU,QAAX,CAAoBsB,GAApB,CAAyBC,IAAD,IAAU;UACjC,oBACE;YAAK,SAAS,EAAC,UAAf;YAAA,uBACE,QAAC,QAAD;cACE,KAAK,EAAEA,IAAI,CAACX,KAAL,GAAaW,IAAI,CAACX,KAAL,CAAWY,KAAX,CAAiB,CAAjB,EAAoB,EAApB,CAAb,GAAuC,EADhD;cAEE,WAAW,EACTD,IAAI,CAACV,WAAL,GAAmBU,IAAI,CAACV,WAAL,CAAiBW,KAAjB,CAAuB,CAAvB,EAA0B,EAA1B,CAAnB,GAAmD,EAHvD;cAKE,QAAQ,EAAED,IAAI,CAACT,UAAL,GAAkBS,IAAI,CAACT,UAAvB,GAAoC,EALhD;cAME,OAAO,EAAES,IAAI,CAACR,GAAL,GAAWQ,IAAI,CAACR,GAAhB,GAAsB;YANjC;cAAA;cAAA;cAAA;YAAA;UADF,GAA+BQ,IAAI,CAACR,GAApC;YAAA;YAAA;YAAA;UAAA,QADF;QAYD,CAbA;MADH;QAAA;QAAA;QAAA;MAAA,QAHF,eAmBE;QAAK,SAAS,EAAC,0CAAf;QAAA,wBACE;UACE,IAAI,EAAC,QADP;UAEE,QAAQ,EAAE,KAAKzB,KAAL,CAAWC,IAAX,IAAmB,CAF/B;UAGE,SAAS,EAAC,cAHZ;UAIE,OAAO,EAAE,KAAKa,gBAJhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eASE;UACE,IAAI,EAAC,QADP;UAEE,QAAQ,EAAE,KAAKd,KAAL,CAAWU,QAAX,CAAoBE,MAApB,IAA8B,CAF1C;UAGE,SAAS,EAAC,cAHZ;UAIE,OAAO,EAAE,KAAKb,YAJhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QATF;MAAA;QAAA;QAAA;QAAA;MAAA,QAnBF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF;EAwCD;;AA/HiC;AAkIpC,eAAeF,IAAf"},"metadata":{},"sourceType":"module"}