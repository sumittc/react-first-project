{"ast":null,"code":"var _jsxFileName = \"E:\\\\01 Developement\\\\ReactJs\\\\class-base-app\\\\src\\\\components\\\\News.js\";\nimport React, { Component } from \"react\";\nimport NewsItem from \"./NewsItem\";\nimport \"./globalClass\";\nimport Spinner from \"./Spinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class News extends Component {\n  constructor() {\n    super();\n\n    this.handleOnNext = () => {\n      if (this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize)) {\n        return;\n      }\n\n      let LArticals = this.fetchArtialFromServer();\n\n      if (LArticals.length <= 0) {\n        return;\n      }\n\n      this.setState({\n        page: this.state.page + 1,\n        articles: LArticals\n      });\n    };\n\n    this.handleOnPrevious = () => {\n      let LArticals = this.fetchArtialFromServer();\n      this.setState({\n        page: this.state.page - 1,\n        articles: LArticals\n      });\n    };\n\n    console.log(\"I am constructor from News\");\n    this.state = {\n      articles: [],\n      page: 1,\n      totalResults: 0,\n      loading: false\n    };\n  }\n\n  componentDidMount() {\n    let LArticals = this.fetchArtialFromServer();\n    this.setState({\n      articles: LArticals,\n      totalResults: LParsedata.totalResults\n    });\n  }\n\n  validateArray(p_arrJson) {\n    let LResultArray = [];\n\n    for (let itemObject of p_arrJson) {\n      if (itemObject.title && itemObject.description && itemObject.urlToImage && itemObject.url) {\n        LResultArray.push(itemObject);\n      }\n    }\n\n    return LResultArray;\n  }\n\n  async fetchArtialFromServer() {\n    let LUrl = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=3e9e7838c5544ecf80621f19694f5022\n    &page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n    this.setState({\n      loading: true\n    });\n    let LData = await fetch(LUrl);\n    let LParsedata = await LData.json();\n    this.setState({\n      loading: false\n    });\n    let LArticals = LParsedata.articles;\n    LArticals = this.validateArray(LArticals);\n    return LArticals;\n  }\n\n  render() {\n    console.log(\"rendered\");\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"News Monkey - Top Headline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: this.state.articles.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4\",\n            children: /*#__PURE__*/_jsxDEV(NewsItem, {\n              title: item.title ? item.title.slice(0, 40) : \"\",\n              description: item.description ? item.description.slice(0, 88) : \"\",\n              imageUrl: item.urlToImage ? item.urlToImage : \"\",\n              newsUrl: item.url ? item.url : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this)\n          }, item.url, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: this.state.page <= 1,\n          className: \"btn btn-dark\",\n          onClick: this.handleOnPrevious,\n          children: \"\\u2190 Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: this.state.articles.length <= 0,\n          className: \"btn btn-dark\",\n          onClick: this.handleOnNext,\n          children: \"Next \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default News;","map":{"version":3,"names":["React","Component","NewsItem","Spinner","News","constructor","handleOnNext","state","page","Math","ceil","totalResults","props","pageSize","LArticals","fetchArtialFromServer","length","setState","articles","handleOnPrevious","console","log","loading","componentDidMount","LParsedata","validateArray","p_arrJson","LResultArray","itemObject","title","description","urlToImage","url","push","LUrl","LData","fetch","json","render","map","item","slice"],"sources":["E:/01 Developement/ReactJs/class-base-app/src/components/News.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport NewsItem from \"./NewsItem\";\r\nimport \"./globalClass\";\r\nimport Spinner from \"./Spinner\";\r\n\r\nexport class News extends Component {\r\n  constructor() {\r\n    super();\r\n    console.log(\"I am constructor from News\");\r\n    this.state = {\r\n      articles: [],\r\n      page: 1,\r\n      totalResults: 0,\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n   componentDidMount() {\r\n\r\n    let LArticals = this.fetchArtialFromServer();\r\n\r\n    this.setState({\r\n      articles: LArticals,\r\n      totalResults: LParsedata.totalResults,\r\n    });\r\n  }\r\n  handleOnNext = () => {\r\n    if (\r\n      this.state.page + 1 >\r\n      Math.ceil(this.state.totalResults / this.props.pageSize)\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    let LArticals = this.fetchArtialFromServer();\r\n\r\n    if (LArticals.length <= 0) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      page: this.state.page + 1,\r\n      articles: LArticals,\r\n    });\r\n  };\r\n\r\n  handleOnPrevious = () => {\r\n\r\n    let LArticals = this.fetchArtialFromServer();\r\n\r\n    this.setState({\r\n      page: this.state.page - 1,\r\n      articles: LArticals,\r\n    });\r\n  };\r\n\r\n  validateArray(p_arrJson) {\r\n    let LResultArray = [];\r\n    for (let itemObject of p_arrJson) {\r\n      if (\r\n        itemObject.title &&\r\n        itemObject.description &&\r\n        itemObject.urlToImage &&\r\n        itemObject.url\r\n      ) {\r\n        LResultArray.push(itemObject);\r\n      }\r\n    }\r\n    return LResultArray;\r\n  }\r\n\r\n  async fetchArtialFromServer() {\r\n\r\n    let LUrl = `https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=3e9e7838c5544ecf80621f19694f5022\r\n    &page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\r\n    this.setState({ loading: true });\r\n    let LData = await fetch(LUrl);\r\n    let LParsedata = await LData.json();\r\n    this.setState({ loading: false });\r\n    let LArticals = LParsedata.articles;\r\n    LArticals = this.validateArray(LArticals);\r\n\r\n    return LArticals;\r\n  }\r\n\r\n  render() {\r\n    console.log(\"rendered\");\r\n    return (\r\n      <div className=\"container my-3\">\r\n        <h1 className=\"text-center\">News Monkey - Top Headline</h1>\r\n        {this.state.loading && <Spinner />}\r\n        <div className=\"row\">\r\n          {this.state.articles.map((item) => {\r\n            return (\r\n              <div className=\"col-md-4\" key={item.url}>\r\n                <NewsItem\r\n                  title={item.title ? item.title.slice(0, 40) : \"\"}\r\n                  description={\r\n                    item.description ? item.description.slice(0, 88) : \"\"\r\n                  }\r\n                  imageUrl={item.urlToImage ? item.urlToImage : \"\"}\r\n                  newsUrl={item.url ? item.url : \"\"}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"container d-flex justify-content-between\">\r\n          <button\r\n            type=\"button\"\r\n            disabled={this.state.page <= 1}\r\n            className=\"btn btn-dark\"\r\n            onClick={this.handleOnPrevious}\r\n          >\r\n            &larr; Previous\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            disabled={this.state.articles.length <= 0}\r\n            className=\"btn btn-dark\"\r\n            onClick={this.handleOnNext}\r\n          >\r\n            Next &rarr;\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default News;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}